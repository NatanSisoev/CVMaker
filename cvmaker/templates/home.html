{% extends 'base.html' %}

{% block title %}My CV Entries{% endblock %}

{% block content %}
<div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>My CV Entries</h1>
        <button id="savePdfButton" class="btn btn-primary">Save as PDF</button>
        <script>
            document.getElementById("savePdfButton").addEventListener("click", function () {
                window.open("{% url 'login' %}", "_blank");
            });
        </script>
    </div>
    <!-- Education Entries Section -->
    <div class="mb-5">
        <h2>Education Entries</h2>
        {% if education_entries %}
        <div class="row row-cols-1 g-4 justify-content-center">
            {% for entry in education_entries %}
            <div class="col-12">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ entry.institution }} ({{ entry.area }})</h5>
                        {% if entry.degree %}
                        <p class="card-text"><strong>Degree:</strong> {{ entry.degree }}</p>
                        {% endif %}
                        {% if entry.location %}
                        <p class="card-text"><strong>Location:</strong> {{ entry.location }}</p>
                        {% endif %}
                        {% if entry.start_date %}
                        <p class="card-text"><strong>Start Date:</strong> {{ entry.start_date }}</p>
                        {% endif %}
                        {% if entry.end_date %}
                        <p class="card-text"><strong>End Date:</strong> {{ entry.end_date }}</p>
                        {% endif %}
                        {% if entry.date %}
                        <p class="card-text"><strong>Date:</strong> {{ entry.date }}</p>
                        {% endif %}
                        {% if entry.summary %}
                        <p class="card-text"><strong>Summary:</strong> {{ entry.summary }}</p>
                        {% endif %}
                        {% if entry.highlights %}
                        <p class="card-text"><strong>Highlights:</strong> {{ entry.highlights }}</p>
                        {% endif %}
                        {% if entry.description %}
                        <p class="card-text"><strong>Description:</strong> {{ entry.description }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>No education entries found.</p>
        {% endif %}
    </div>

    <!-- Experience Entries Section -->
    <div class="mb-5">
        <h2>Experience Entries</h2>
        {% if experience_entries %}
        <div class="row row-cols-1 g-4 justify-content-center">
            {% for entry in experience_entries %}
            <div class="col-12">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ entry.company }} - {{ entry.position }}</h5>
                        {% if entry.location %}
                        <p class="card-text"><strong>Location:</strong> {{ entry.location }}</p>
                        {% endif %}
                        {% if entry.start_date %}
                        <p class="card-text"><strong>Start Date:</strong> {{ entry.start_date }}</p>
                        {% endif %}
                        {% if entry.end_date %}
                        <p class="card-text"><strong>End Date:</strong> {{ entry.end_date }}</p>
                        {% endif %}
                        {% if entry.date %}
                        <p class="card-text"><strong>Date:</strong> {{ entry.date }}</p>
                        {% endif %}
                        {% if entry.summary %}
                        <p class="card-text"><strong>Summary:</strong> {{ entry.summary }}</p>
                        {% endif %}
                        {% if entry.highlights %}
                        <p class="card-text"><strong>Highlights:</strong> {{ entry.highlights }}</p>
                        {% endif %}
                        {% if entry.description %}
                        <p class="card-text"><strong>Description:</strong> {{ entry.description }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>No experience entries found.</p>
        {% endif %}
    </div>

    <!-- General Entries Section -->
    <div class="mb-5">
        <h2>General Entries</h2>
        {% if normal_entries %}
        <div class="row row-cols-1 g-4 justify-content-center">
            {% for entry in normal_entries %}
            <div class="col-12">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ entry.name }}</h5>
                        {% if entry.location %}
                        <p class="card-text"><strong>Location:</strong> {{ entry.location }}</p>
                        {% endif %}
                        {% if entry.start_date %}
                        <p class="card-text"><strong>Start Date:</strong> {{ entry.start_date }}</p>
                        {% endif %}
                        {% if entry.end_date %}
                        <p class="card-text"><strong>End Date:</strong> {{ entry.end_date }}</p>
                        {% endif %}
                        {% if entry.date %}
                        <p class="card-text"><strong>Date:</strong> {{ entry.date }}</p>
                        {% endif %}
                        {% if entry.summary %}
                        <p class="card-text"><strong>Summary:</strong> {{ entry.summary }}</p>
                        {% endif %}
                        {% if entry.highlights %}
                        <p class="card-text"><strong>Highlights:</strong> {{ entry.highlights }}</p>
                        {% endif %}
                        {% if entry.description %}
                        <p class="card-text"><strong>Description:</strong> {{ entry.description }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>No general entries found.</p>
        {% endif %}
    </div>

    <!-- Publications Section -->
    <div class="mb-5">
        <h2>Publications</h2>
        {% if publication_entries %}
        <div class="row row-cols-1 g-4 justify-content-center">
            {% for entry in publication_entries %}
            <div class="col-12">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ entry.title }}</h5>
                        <p class="card-text"><strong>Authors:</strong> {{ entry.authors }}</p>
                        {% if entry.doi %}
                        <p class="card-text"><strong>DOI:</strong> {{ entry.doi }}</p>
                        {% endif %}
                        {% if entry.url %}
                        <p class="card-text"><strong>URL:</strong> <a href="{{ entry.url }}" target="_blank">Link</a>
                        </p>
                        {% endif %}
                        {% if entry.journal %}
                        <p class="card-text"><strong>Journal:</strong> {{ entry.journal }}</p>
                        {% endif %}
                        {% if entry.date %}
                        <p class="card-text"><strong>Date:</strong> {{ entry.date }}</p>
                        {% endif %}
                        {% if entry.description %}
                        <p class="card-text"><strong>Description:</strong> {{ entry.description }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>No publications found.</p>
        {% endif %}
    </div>

    <!-- One-Line Entries Section -->
    <div class="mb-5">
        <h2>One-Line Entries</h2>
        {% if oneline_entries %}
        <div class="row row-cols-1 g-4 justify-content-center">
            {% for entry in oneline_entries %}
            <div class="col-12">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ entry.label }}</h5>
                        <p class="card-text">{{ entry.details }}</p>
                        {% if entry.description %}
                        <p class="card-text"><strong>Description:</strong> {{ entry.description }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>No one-line entries found.</p>
        {% endif %}
    </div>

    <!-- Bullet Entries Section -->
    <div class="mb-5">
        <h2>Bullet Entries</h2>
        {% if bullet_entries %}
        <div class="row row-cols-1 g-4 justify-content-center">
            {% for entry in bullet_entries %}
            <div class="col-12">
                <div class="card h-100">
                    <div class="card-body">
                        <p class="card-text">{{ entry.bullet }}</p>
                        {% if entry.description %}
                        <p class="card-text"><strong>Description:</strong> {{ entry.description }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>No bullet entries found.</p>
        {% endif %}
    </div>

    <!-- Numbered Entries Section -->
    <div class="mb-5">
        <h2>Numbered Entries</h2>
        {% if numbered_entries %}
        <div class="row row-cols-1 g-4 justify-content-center">
            {% for entry in numbered_entries %}
            <div class="col-12">
                <div class="card h-100">
                    <div class="card-body">
                        <p class="card-text">{{ entry.number }}</p>
                        {% if entry.description %}
                        <p class="card-text"><strong>Description:</strong> {{ entry.description }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>No numbered entries found.</p>
        {% endif %}
    </div>

    <!-- Reversed Numbered Entries Section -->
    <div class="mb-5">
        <h2>Reversed Numbered Entries</h2>
        {% if reversed_numbered_entries %}
        <div class="row row-cols-1 g-4 justify-content-center">
            {% for entry in reversed_numbered_entries %}
            <div class="col-12">
                <div class="card h-100">
                    <div class="card-body">
                        <p class="card-text">{{ entry.reversed_number }}</p>
                        {% if entry.description %}
                        <p class="card-text"><strong>Description:</strong> {{ entry.description }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>No reversed numbered entries found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
